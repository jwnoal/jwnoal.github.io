---
import BaseLayout from "../../layouts/BaseLayout.astro";
import type { Page, GetStaticPathsOptions } from "astro";
import { type CollectionEntry, getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const uniqueTag = [...new Set(allPosts.map((p) => p.data.tags).flat())];
---

<BaseLayout
  title={`tag`}
  description={`All the tags used in posts.`}
  className={"grid"}
>
  <Fragment slot="main">
    <ul class="flex-wrap card-tags">
      {
        uniqueTag.map((t) => (
          <li class="tag-link">
            <a href={`/tag/${t}`}>
              <span aria-hidden="true"># </span>
              {t}
            </a>
          </li>
        ))
      }
    </ul>
  </Fragment>
</BaseLayout>
